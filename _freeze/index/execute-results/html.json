{
  "hash": "1698611f915ab085c260253ea7b9b2b9",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Elevating R Markdown with Quarto\"\nsubtitle: useR 2024\nauthor: \"Christophe Dervieux\"\ninstitute: \"Posit PBC\"\ndate: 09/07/2024\nformat:\n  clean-revealjs:\n    theme: [default, reveal-style.scss]\n    footer: Follow along at <https://cderv.github.io/user2024-quarto-talk/> and <https://quarto.org>\n    code-line-numbers: false\n    slide-number: true\n    mermaid-format: png\n    preview-links: auto\n    multiplex: true\nrevealjs-plugins:\n  - attribution\nexecute: \n  cache: true\n---\n\n\n\n# What is Quarto ?\n\n*Quarto is the next generation of R Markdown: it unifies and extends it !*\n\n## Open-source, Scientific, and Technical Publishing System\n\n-   **unifies** and **extends** the R Markdown ecosystem\n\n-   **extends** for people who don't know R Markdown\n\n![[Artwork from \"Hello, Quarto\" keynote by Julia Lowndes and Mine Çetinkaya-Rundel, presented at RStudio Conference 2022. Illustrated by Allison Horst.]{.small-cap}](images/horst_quarto_schematic.png){fig-alt=\"A schematic representing the multi-language input (e.g. Python, R, Observable, Julia) and multi-format output (e.g. PDF, html, Word documents, and more) versatility of Quarto.\" fig-align=\"center\"}\n\n::: notes\nJust like R Markdown you can weave together narrative text and code to produce elegantly formatted output as documents, web pages, blog posts, books and more.\n\n-   Consistent implementation of attractive and handy features across outputs: tabsets, code-folding, syntax highlighting, etc.\n-   More accessible defaults as well as better support for accessibility\n-   Guardrails, particularly helpful for new learners: YAML completion, informative syntax errors, etc.\n-   Support for other languages like Python, Julia, Observable, and more via Jupyter engine for executable code chunks.\n:::\n\n## Why Quarto ?\n\n-   Computational Documents and Scientific Markdown made easy for Single Source Publishing\n-   Designed from the start as [multi-engine]{.hl}\n-   An attempt to bring +10 years experience of [R Markdown to everyone]{.hl}!\n\n![D. Krishnamurthy, “Writing technical papers with Markdown and Pandoc,” Dec. 20, 2015. https://kdheepak.com/blog/writing-papers-with-markdown](images/scientific-markdown.png){.center fig-alt=\"xkcd styled graph of comparing learning curve for LaTeX, Word and Markdown for scientific publishing\"}\n\n::: notes\nOrigins\n\n-   Open source project sponsored by Posit, PBC.\n-   10 years of experience with R Markdown convinced us that the core ideas were sound.\n-   The number of languages and runtimes used for scientific discourse is very broad.\n-   Quarto is a ground-up re-imagining of R Markdown that is fundamentally multi-language and multi-engine.\n\nComputational Documents\n\n-   Documents that incorporate the source code required for their production\n-   Notebook and plain text flavors\n-   Automation and reproducibility\n:::\n\n## How to use Quarto ?\n\n::: make-smaller\nQuarto is a [command line interface (CLI)]{.hl} that renders plain text formats (`.qmd`, `.rmd`, `.md`) OR mixed formats (`.ipynb`/Jupyter notebook) into static PDF/Word/HTML reports, books, websites, presentations and more.\n:::\n\n``` {.bash .make-smaller code-line-numbers=\"|1|4|12|17|18\"}\n$ quarto --help\n\nUsage:   quarto\nVersion: 1.5.52\n\nDescription:\n\n  Quarto CLI\n\nOptions:\n\n  -h, --help     - Show this help.\n  -V, --version  - Show the version number for this program.\n\nCommands:\n\n  render     [input] [args...]     - Render files or projects to various document types.\n  preview    [file] [args...]      - Render and preview a document or website project.\n  serve      [input]               - Serve a Shiny interactive document.\n\n  create     [type] [commands...]  - Create a Quarto project or extension\n\n  use        <type> [target]       - Automate document or project setup tasks.\n  add        <extension>           - Add an extension to this folder or project\n  update     [target...]           - Updates an extension or global dependency.\n  remove     [target...]           - Removes an extension.\n\n  convert    <input>               - Convert documents to alternate representations.\n  pandoc     [args...]             - Run the version of Pandoc embedded within Quarto.\n  typst      [args...]             - Run the version of Typst embedded within Quarto.\n  run        [script] [args...]    - Run a TypeScript, R, Python, or Lua script.\n  install    [target...]           - Installs a global dependency (TinyTex or Chromium).\n  uninstall  [tool]                - Removes an extension.\n\n  tools                            - Display the status of Quarto installed dependencies\n  publish    [provider] [path]     - Publish a document or project to a provider.\n  check      [target]              - Verify correct functioning of Quarto installation.\n  help       [command]             - Show this help or the help of a sub-command.\n```\n\n## How to use Quarto?\n\nIntegrated in many tools!\n\n::: r-stack\n![](images/screenshot-vscode-preview.png){.fragment fragment-index=\"1\"}\n\n![](images/vscode-logo.png){.fragment .absolute fragment-index=\"1\" top=\"0px\" right=\"450px\" width=\"100px\"}\n\n![](images/jupyterlab-preview.png){.fragment fragment-index=\"2\"}\n\n![](images/jupyter-logo.png){.fragment .absolute fragment-index=\"2\" top=\"0px\" right=\"300px\" width=\"100px\"}\n\n![](images/rstudio-hello.png){.fragment fragment-index=\"3\"}\n\n![](images/rstudio-logo.png){.fragment .absolute fragment-index=\"3\" top=\"0px\" right=\"150px\" width=\"100px\"}\n:::\n\n# Does it works the same ?\n\n![](https://i.giphy.com/media/v1.Y2lkPTc5MGI3NjExYjZqY3NpajV2c3NrZ2xmN2pqY2RiZ2hlaTM1bGR6N2l6eGJpZXV4NSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/C6JQPEUsZUyVq/giphy.gif){.nostretch width=\"70%\"}\n\n## Similar Workflows\n\n![](images/rstudio-qmd-how-it-works.png)\n\n![](images/qmd-how-it-works.png){.fragment}\n\n![](images/ipynb-how-it-works.png){.fragment}\n\n## Similar Syntax {auto-animate=\"true\" auto-animate-easing=\"linear\"}\n\nMixing Markdown content and computation cells to evaluate\n\nFrom R Markdown...\n\n\n\n\n````{.markdown}\n---\ntitle: Hello penguins!\noutput: \n  html_document:\n    toc: true\n---\n\n```{r species, warning=FALSE, fig.width=5, fig.cap=\"About penguins\"}\nggplot(penguins) + aes(\n  x = bill_length_mm, y = bill_depth_mm, color = species, shape = species) +\n  geom_point() + labs(x = \"Bill length (mm)\", y = \"Bill depth (mm)\")\n```\n````\n\n\n\n## Similar Syntax {auto-animate=\"true\" auto-animate-easing=\"linear\"}\n\nMixing Markdown content and computation cells to evaluate\n\n... to Quarto\n\n\n\n\n````{.markdown}\n---\ntitle: Hello penguins!\noutput: html\ntoc: true\n---\n\n```{r}\n#| label: species\n#| fig-width: 5\n#| fig-cap: About penguins\nggplot(penguins) + aes(\n  x = bill_length_mm, y = bill_depth_mm, color = species, shape = species) +\n  geom_point() + labs(x = \"Bill length (mm)\", y = \"Bill depth (mm)\")\n```\n````\n\n\n\n::: notes\nFor R, Quarto still uses Knitr under the hood.\n\nSame workflow from Markdown +\n\nConsequently, ***the vast majority of existing Rmd files*** can be rendered unmodified.\n:::\n\n# Elevating R Markdown ?\n\n![](https://i.giphy.com/media/v1.Y2lkPTc5MGI3NjExM3hzNzg3dWZiY3c4OHc4bGZkZHBuZHI1ZGN6YnlyYnVuYnFlam85cyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/3o6MbjqM1mUsaah7W0/giphy.gif){.nostretch width=\"70%\"}\n\n## Quarto formats\n\nMultiple fresh polished formats, built-in, with consistent syntax and features.\n\n+-----------------+--------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------+\n| Feature         | Quarto                                                                         | R Markdown                                                                                           |\n+=================+================================================================================+======================================================================================================+\n| Basic Formats   | [html](https://quarto.org/docs/output-formats/html-basics.html)                | [html_document](https://pkgs.rstudio.com/rmarkdown/reference/html_document.html)                     |\n|                 |                                                                                |                                                                                                      |\n|                 | [pdf](https://quarto.org/docs/output-formats/pdf-basics.html)                  | [pdf_document](https://pkgs.rstudio.com/rmarkdown/reference/pdf_document.html)                       |\n|                 |                                                                                |                                                                                                      |\n|                 | [docx](https://quarto.org/docs/output-formats/ms-word.html)                    | [word_document](https://pkgs.rstudio.com/rmarkdown/reference/word_document.html)                     |\n|                 |                                                                                |                                                                                                      |\n|                 | [typst](https://quarto.org/docs/output-formats/typst.html)                     | [typst_document]{.hidden-element}                                                                    |\n+-----------------+--------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------+\n| Beamer          | [beamer](https://quarto.org/docs/presentations/beamer.html)                    | [beamer_presentation](https://pkgs.rstudio.com/rmarkdown/reference/beamer_presentation.html)         |\n+-----------------+--------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------+\n| PowerPoint      | [pptx](https://quarto.org/docs/presentations/powerpoint.html)                  | [powerpoint_presentation](https://pkgs.rstudio.com/rmarkdown/reference/powerpoint_presentation.html) |\n+-----------------+--------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------+\n| HTML Slides     | [revealjs](https://quarto.org/docs/presentations/revealjs/)                    | [xaringan](https://bookdown.org/yihui/rmarkdown/xaringan.html)                                       |\n|                 |                                                                                |                                                                                                      |\n|                 |                                                                                | [ioslides](https://bookdown.org/yihui/rmarkdown/ioslides-presentation.html)                          |\n|                 |                                                                                |                                                                                                      |\n|                 |                                                                                | [revealjs](https://bookdown.org/yihui/rmarkdown/revealjs.html)                                       |\n+-----------------+--------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------+\n| Advanced Layout | [Quarto Article Layout](https://quarto.org/docs/authoring/article-layout.html) | [tufte](https://bookdown.org/yihui/rmarkdown/tufte-handouts.html)                                    |\n|                 |                                                                                |                                                                                                      |\n|                 |                                                                                | [distill](https://rstudio.github.io/distill/figures.html)                                            |\n+-----------------+--------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------+\n\n::: notes\nThe R Markdown ecosystem was built over nearly a decade (resulting in lots of inconsistency & duplication)\n:::\n\n## Quarto formats\n\nMultiple fresh polished formats, built-in, with consistent syntax and features.\n\n+------------------+-----------------------------------------------------------------------------+------------------------------------------------------------------------------+\n| Feature          | Quarto                                                                      | R Markdown                                                                   |\n+==================+=============================================================================+==============================================================================+\n| Cross References | [Quarto Crossrefs](https://quarto.org/docs/authoring/cross-references.html) | [html_document2](https://bookdown.org/yihui/bookdown/a-single-document.html) |\n|                  |                                                                             |                                                                              |\n|                  |                                                                             | [pdf_document2](https://bookdown.org/yihui/bookdown/a-single-document.html)  |\n|                  |                                                                             |                                                                              |\n|                  |                                                                             | [word_document2](https://bookdown.org/yihui/bookdown/a-single-document.html) |\n+------------------+-----------------------------------------------------------------------------+------------------------------------------------------------------------------+\n| Websites & Blogs | [Quarto Websites](https://quarto.org/docs/websites/)                        | [blogdown](https://pkgs.rstudio.com/blogdown/)                               |\n|                  |                                                                             |                                                                              |\n|                  | [Quarto Blogs](https://quarto.org/docs/websites/website-blog.html)          | [distill](https://pkgs.rstudio.com/distill/)                                 |\n+------------------+-----------------------------------------------------------------------------+------------------------------------------------------------------------------+\n| Books            | [Quarto Books](https://quarto.org/docs/books/)                              | [bookdown](https://pkgs.rstudio.com/bookdown/)                               |\n+------------------+-----------------------------------------------------------------------------+------------------------------------------------------------------------------+\n| Interactivity    | [Quarto Interactive Documents](https://quarto.org/docs/interactive/shiny/)  | [Shiny Documents](https://bookdown.org/yihui/rmarkdown/shiny-documents.html) |\n+------------------+-----------------------------------------------------------------------------+------------------------------------------------------------------------------+\n| Journal Articles | [Journal Articles](https://quarto.org/docs/journals/index.html)             | [rticles](https://pkgs.rstudio.com/rticles/)                                 |\n+------------------+-----------------------------------------------------------------------------+------------------------------------------------------------------------------+\n| Dashboards       | [Quarto Dashboards](https://quarto.org/docs/dashboards/)                    | [flexdashboard](https://pkgs.rstudio.com/flexdashboard/)                     |\n+------------------+-----------------------------------------------------------------------------+------------------------------------------------------------------------------+\n\n::: notes\nSome features requires specific R packages and specific syntax.\n:::\n\n## Focus: Theming\n\nQuarto themes (based on SCSS) for all HTML output formats (shared by HTML and RevealJS slides, extendable to work with anything).\n\nBased on core variables defined by [bslib](https://rstudio.github.io/bslib/) (so fully compatible with Shiny, Flexdashboard, & R Markdown themes).\n\n:::::::::::::::::::: columns\n::: {.column width=\"\\\"50%\"}\n``` {.scss filename=\"my-style.scss (Quarto theme file)\"}\n/*-- scss:defaults --*/\n$h2-font-size:          1.6rem !default;\n$headings-font-weight:  500 !default;\n\n$custom-color: blue;\n\n/*-- scss:rules --*/\nh1, h2, h3, h4, h5, h6 {\n  text-shadow: -1px -1px 0 rgba(0, 0, 0, .3);\n  color: $custom-color;\n}\n```\n:::\n\n::: {.column width=\"50%\"}\n``` {.yaml filename=\"_quarto.yml or YAML header\"}\nformat:\n  html:\n    linkcolor: darkgrey\n    theme: [litera, my-style.scss]\n```\n:::\n:::::::::::::::::::: \n\n## Focus: Typst CSS\n\n```yaml\nformat: typst\n```\n\nThis is the quickest way to do PDF with already nice features ! \n\n:::::.columns}\n::: {.column width=\"60%\"}\n```r\n# Producing a HTML Table with CSS styles\nlibrary(gt)\n\ntemps <- data.frame(\n  year = c(1920:1924),\n  Jan = c(40.6, 44.2, 37.5, 41.8, 39.3),\n  Jun = c(58.5, 58.7, 57.8, 52.7, 57.7)\n)\n\nnice_col <- scales::col_numeric(\n  colorspace::diverge_hcl(\n    n = 9, palette = \"Green-Orange\"\n  ), domain = c(35, 62)\n)\n\ngt(temps) |> \n  data_color(\n  columns = c(-year), \n  fn = nice_col\n)\n```\n:::\n::: {.column width=\"2%\"}\n:::\n::: {.column width=\"30%\"}\n![](images/typst-tables-gt-temps.png)\n:::\n:::::\n\n## Focus: Publishing\n\nIntegrated `quarto publish` command that targets a variety of services\n\n```{.bash code-line-numbers='12-18'}\n> quarto publish --help\n\nUsage:   quarto publish [provider] [path]\nVersion: 1.5.52\n\nDescription:\n\n  Publish a document or project to a provider.\n\n  Available providers include:\n\n   - Quarto Pub (quarto-pub)\n   - GitHub Pages (gh-pages)\n   - Posit Connect (connect)\n   - Posit Cloud (posit-cloud)\n   - Netlify (netlify)\n   - Confluence (confluence)\n   - Hugging Face Spaces (huggingface)\n\n  Accounts are configured interactively during publishing.\n  Manage/remove accounts with: quarto publish accounts\n```\n\n## Focus: Shortcodes\n\nQuarto specific syntax to include content: <https://quarto.org/docs/authoring/shortcodes.html>\n\n::: {.columns}\n::: {.column width=\"50%\"}\n```{.markdown}\nLet's add some sample image ! \n\n{{{< placeholder >}}}\n```\n:::\n::: {.column width=\"50%\"}\nLet's add some sample image ! \n\n\n\n{{< placeholder >}}\n\n\n\n:::\n:::\n\nPart of what is extendable with [Quarto Extension](https://quarto.org/docs/extensions/)\n\n## Quarto Projects\n\n*Organizing content as a project to gain project's features and enhanced outputs*\n\n::: columns\n::: {.column .make-smaller style=\"padding-top: 2em\"}\n``` {.yaml filename=\"_quarto.yml (simple website)\"}\nproject:\n  type: website\n\nwebsite:\n  title: \"today\"\n  favicon: logo.png\n  navbar:\n    left:\n      - href: index.qmd\n        text: Home\n      - about.qmd\n\nformat:\n  html:\n    theme: cosmo\n    css: styles.css\n    toc: true\n    \nfreeze: auto\n```\n:::\n::: {.column .make-smaller}\n``` {.yaml filename=\"_quarto.yml (simple book)\"}\nproject:\n  type: book\n\nbook:\n  title: \"mybook\"\n  author: \"Jane Doe\"\n  date: \"8/18/2021\"\n  chapters:\n    - index.qmd\n    - intro.qmd\n    - references.qmd\n\nbibliography: references.bib\n\nformat:\n  html: default\n  pdf: default\n  epub:\n    cover-image: cover.png\n```\n:::\n:::\n\n## Learning More {.smaller}\n\n#### Slides: <https://cderv.github.io/raukr-2023-quarto> {.bottom-pad}\n\n-   Getting started: <https://quarto.org/docs/get-started/>\n\n-   User guide: <https://quarto.org/docs/guide/>\n\n-   Awesome Quarto: <https://github.com/mcanouil/awesome-quarto>\n\n-   rstudio::conf(2022)\n\n    -   [Keynote: Reimagine + Collaborate + Share with Quarto](https://www.rstudio.com/conference/2022/keynotes/collaborate-with-quarto/)\n    -   [Quarto for R Markdown users](https://www.rstudio.com/conference/2022/talks/quarto-for-rmarkdown-users/)\n    -   [These are a few of my favorite things (about Quarto presentations)](https://www.rstudio.com/conference/2022/talks/my-favorite-things-quarto-presentations/)\n    -   [Literate Programming With Jupyter Notebooks and Quarto](https://www.rstudio.com/conference/2022/talks/literate-programming-quarto/)\n    -   [Websites & Books & Blogs, oh my! Creating Rich Content with Quarto](https://www.rstudio.com/conference/2022/talks/sessions/quarto-deep-dive/websites-books-blogs-quarto/)\n\n#### Questions? {.top-pad}\n::::::::::::::::::::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}